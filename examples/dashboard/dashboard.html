<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Xique Xique - Relatório Financeiro</title>
    <link rel="stylesheet" href="../../css/gaintime.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body class="scrollable-y full bg-light">
    <nav class="gt-top-menu bg-primary shadow">
        <div class="row justify-between">
            <h3 class="color-light no-margin">
                <i class="fas fa-seedling margin-r"></i>
                Xique Xique
            </h3>
            <a href="https://github.com/Quijaua/Xique-xique" target="_blank" class="btn bg-dark color-light border-none rounded">
                <i class="fab fa-github margin-r"></i>
                Ver no GitHub
            </a>
        </div>
    </nav>

    <main class="content padding">
        <div class="container border-none">
            <div class="row justify-between">
                <div class="w-full">
                    <div class="card rounded shadow-lg hover-lift margin">
                        <div class="card-content padding">
                            <div class="row align-items-center justify-between">
                                <div class="col-3">
                                    <div class="icon-circle bg-success color-light rounded-circle shadow">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                </div>
                                <div class="col-9 text-right">
                                    <h3 class="color-dark no-margin-bottom margin-top-half">Receita Total</h3>
                                    <h2 class="color-success margin-y-half">R$ 25.000,00</h2>
                                    <small class="color-success"><i class="fas fa-arrow-up margin-r"></i>+15% este mês</small>
                                    <div class="margin-top">
                                        <div class="bar bg-light rounded-lg">
                                            <div class="progress bg-success rounded-lg" style="width: 50%;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="w-full">
                    <div class="card bg-white rounded shadow-lg hover-lift margin">
                        <div class="card-content padding">
                            <div class="row align-items-center justify-between">
                                <div class="col-3">
                                    <div class="icon-circle bg-error color-light rounded-circle shadow">
                                        <i class="fas fa-chart-area"></i>
                                    </div>
                                </div>
                                <div class="col-9 text-right">
                                    <h3 class="color-dark no-margin-bottom margin-top-half">Despesa Total</h3>
                                    <h2 class="color-error margin-y-half">R$ 15.000,00</h2>
                                    <small class="color-error"><i class="fas fa-arrow-down margin-r"></i>-5% este mês</small>
                                    <div class="margin-top">
                                        <div class="bar bg-light rounded-lg">
                                            <div class="progress bg-error rounded-lg" style="width: 30%;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="w-full">
                    <div class="card bg-white rounded shadow-lg hover-lift margin">
                        <div class="card-content padding">
                            <div class="row align-items-center justify-between">
                                <div class="col-3">
                                    <div class="icon-circle bg-primary color-light rounded-circle shadow">
                                        <i class="fas fa-wallet"></i>
                                    </div>
                                </div>
                                <div class="col-9 text-right">
                                    <h3 class="color-dark no-margin-bottom margin-top-half">Saldo</h3>
                                    <h2 class="color-primary margin-y-half">R$ 10.000,00</h2>
                                    <small class="color-secondary">Balanço atual</small>
                                    <div class="margin-top">
                                        <div class="bar bg-light rounded-lg">
                                            <div class="progress bg-primary rounded-lg" style="width: 40%;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container border-none">
            <div class="card bg-white rounded-lg shadow-lg">
                <div class="card-header padding bg-primary">
                    <div class="row justify-between align-items-center">
                        <h2 class="color-light no-margin"><i class="fas fa-exchange-alt margin-r"></i>Transações</h2>
                        <button class="btn bg-light color-primary rounded-lg shadow" data-modal="transactionModal">
                            <i class="fas fa-plus margin-r"></i>Nova Transação
                        </button>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="gt-table gt-hoverable border-none">
                        <thead>
                            <tr class="bg-dark">
                                <th class="padding rounded-top-left color-light text-center" width="8%">TIPO</th>
                                <th class="padding color-light text-center" width="20%">VALOR</th>
                                <th class="padding color-light text-center" width="20%">MÉTODO DE PAGAMENTO</th>
                                <th class="padding color-light text-center" width="12%">STATUS</th>
                                <th class="padding color-light text-center" width="20%">ATIVIDADE</th>
                                <th class="padding rounded-top-right color-light text-center" width="20%">PESSOA</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsTable">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="transactionModal" class="gt-modal">
            <div class="gt-modal-content bg-white rounded shadow-lg">
                <div class="gt-modal-header padding bg-primary">
                    <h3 class="color-light no-margin"><i class="fas fa-plus-circle margin-r"></i>Nova Transação</h3>
                    <span class="gt-modal-close">&times;</span>
                </div>
                <div class="gt-modal-body padding">
                    <div class="form-group">
                        <label class="form-label">Descrição</label>
                        <input type="text" class="form-control" placeholder="Ex: Pagamento de Fornecedor">
                    </div>
                    
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">Valor</label>
                                <input type="number" class="form-control" placeholder="R$ 0,00">
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label class="form-label">Tipo</label>
                                <select class="form-control">
                                    <option value="expense">Despesa</option>
                                    <option value="income">Receita</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Status</label>
                        <select class="form-control">
                            <option value="Pendente">Pendente</option>
                            <option value="Pago">Pago</option>
                            <option value="Cancelado">Cancelado</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Data</label>
                        <input type="date" class="form-control">
                    </div>
                </div>
                <div class="gt-modal-footer padding">
                    <button class="btn success rounded" onclick="saveTransaction()">Salvar</button>
                </div>
            </div>
        </div>
    </main>

    <script src="../../js/gaintime.js"></script>
    <script src="../../js/theme.js"></script>
    <script>
        const transactions = [
            { 
                id: 1, 
                type: "sent", 
                description: "Compra de Equipamento", 
                value: -500, 
                method: "Cartão de Crédito",
                methodDetails: "**** 6969",
                status: "Pendente", 
                activity: "Enviando pagamento para Fornecedor X",
                person: "Fornecedor X",
                date: "28/07/2023 15:40"
            },
            { 
                id: 2, 
                type: "sent", 
                description: "Pagamento de Fornecedor", 
                value: -1200, 
                method: "Transferência Bancária",
                methodDetails: "*** 8570",
                status: "Pago", 
                activity: "Enviando pagamento para Fornecedor Y",
                person: "Fornecedor Y",
                date: "28/07/2023 14:25"
            },
            { 
                id: 3, 
                type: "received", 
                description: "Recebimento de Cliente", 
                value: 800, 
                method: "Transferência Bancária",
                methodDetails: "*** 9624",
                status: "Pago", 
                activity: "Recebimento de pagamento do Cliente Z",
                person: "Cliente Z",
                date: "27/07/2023 11:30"
            },
            { 
                id: 4, 
                type: "received", 
                description: "Venda de Produto", 
                value: 300, 
                method: "PayPal",
                methodDetails: "@contaEmpresa",
                status: "Pago", 
                activity: "Pagamento por produto",
                person: "Cliente W",
                date: "27/07/2023 10:15"
            },
            {
                id: 5,
                type: "sent",
                description: "Pagamento de Serviço",
                value: -250,
                method: "Cartão de Débito",
                methodDetails: "**** 3342",
                status: "Falhou",
                activity: "Pagamento de serviço para Prestador B",
                person: "Prestador B",
                date: "26/07/2023 09:20"
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            // Inicializa o gerenciador de tema
            const themeManager = new ThemeManager();
            themeManager.loadTheme();
            
            // Popula a tabela de transações
            const transactionsTable = document.getElementById('transactionsTable');
            
            transactions.forEach(transaction => {
                const row = document.createElement('tr');
                row.classList.add('hover-lighten', 'border-bottom-light');
                
                row.innerHTML = `
                    <td align="center" valign="middle">
                        <div class="icon-circle ${transaction.type === 'received' ? 'bg-success' : 'bg-error'} color-light rounded-circle shadow-sm" style="width: 40px; height: 40px;">
                            <i class="fas fa-${transaction.type === 'received' ? 'arrow-down' : 'arrow-up'}"></i>
                        </div>
                    </td>
                    <td align="center" valign="middle">
                        <div class="margin-y-half">
                            <div class="font-medium ${transaction.value > 0 ? 'color-success' : 'color-error'}">
                                ${transaction.value > 0 ? '+' : ''}R$ ${Math.abs(transaction.value).toFixed(2)}
                            </div>
                            <div class="color-secondary font-small">${transaction.description}</div>
                        </div>
                    </td>
                    <td align="center" valign="middle">
                        <div class="margin-y-half">
                            <div class="font-medium">${transaction.method}</div>
                            <div class="color-secondary font-small">${transaction.methodDetails}</div>
                        </div>
                    </td>
                    <td align="center" valign="middle">
                        <span class="gt-tag padding justify-center row bg-${transaction.status === 'Pago' ? 'success' : transaction.status === 'Falhou' ? 'error' : 'warning'} color-light rounded-lg shadow-sm">
                            ${transaction.status}
                        </span>
                    </td>
                    <td align="center" valign="middle">${transaction.activity}</td>
                    <td align="center" valign="middle">
                        <div class="flex align-items-center justify-center">
                            <span>${transaction.person}</span>
                        </div>
                    </td>
                `;
                transactionsTable.appendChild(row);
            });
        });

        function saveTransaction() {
            closeModal('transactionModal');
            alert('Transação salva com sucesso!');
        }
    </script>
</body>

</html>